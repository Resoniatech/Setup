import{H as D,I as L,J as H,i as q,K as O,L as M,s as j,M as A,O as $,P as z,m as F,Q as K,F as E,R as J,o as t,k as i,l as a,j as S,S as Q,b as _,w as f,u as d,d as W,C as G,c as b,h as m,n as y,N as X,_ as Y}from"./index-BLhrQPID.js";import{$ as Z}from"./MallList-BNeY_iJP.js";import{N as ee}from"./Select-CGduaRNo.js";import{N as te}from"./Input-BN6wvFhZ.js";import"./request-CS5nCZLh.js";import"./path-BZD2o_vV.js";let N=!1;function oe(){if(D&&window.CSS&&!N&&(N=!0,"registerProperty"in(window==null?void 0:window.CSS)))try{CSS.registerProperty({name:"--n-color-start",syntax:"<color>",inherits:!1,initialValue:"#0000"}),CSS.registerProperty({name:"--n-color-end",syntax:"<color>",inherits:!1,initialValue:"#0000"})}catch{}}const se=L([H("skeleton",`
 height: 1em;
 width: 100%;
 transition:
 --n-color-start .3s var(--n-bezier),
 --n-color-end .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 animation: 2s skeleton-loading infinite cubic-bezier(0.36, 0, 0.64, 1);
 background-color: var(--n-color-start);
 `),L("@keyframes skeleton-loading",`
 0% {
 background: var(--n-color-start);
 }
 40% {
 background: var(--n-color-end);
 }
 80% {
 background: var(--n-color-start);
 }
 100% {
 background: var(--n-color-start);
 }
 `)]),ne=Object.assign(Object.assign({},M.props),{text:Boolean,round:Boolean,circle:Boolean,height:[String,Number],width:[String,Number],size:String,repeat:{type:Number,default:1},animated:{type:Boolean,default:!0},sharp:{type:Boolean,default:!0}}),P=q({name:"Skeleton",inheritAttrs:!1,props:ne,setup(n){oe();const{mergedClsPrefixRef:r}=O(n),p=M("Skeleton","-skeleton",se,J,n,r);return{mergedClsPrefix:r,style:j(()=>{var u,o;const v=p.value,{common:{cubicBezierEaseInOut:s}}=v,l=v.self,{color:e,colorEnd:h,borderRadius:c}=l;let w;const{circle:k,sharp:R,round:V,width:g,height:T,size:B,text:C,animated:U}=n;B!==void 0&&(w=l[A("height",B)]);const x=k?(u=g??T)!==null&&u!==void 0?u:w:g,I=(o=k?g??T:T)!==null&&o!==void 0?o:w;return{display:C?"inline-block":"",verticalAlign:C?"-0.125em":"",borderRadius:k?"50%":V?"4096px":R?"":c,width:typeof x=="number"?$(x):x,height:typeof I=="number"?$(I):I,animation:U?"":"none","--n-bezier":s,"--n-color-start":e,"--n-color-end":h}})}},render(){const{repeat:n,style:r,mergedClsPrefix:p,$attrs:u}=this,o=z("div",F({class:`${p}-skeleton`,style:r},u));return n>1?z(E,null,K(n,null).map(v=>[o,`
`])):o}}),ae={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#5f6368",viewBox:"0 -960 960 960"},re=a("path",{d:"M480-320q75 0 127.5-52.5T660-500t-52.5-127.5T480-680t-127.5 52.5T300-500t52.5 127.5T480-320m0-72q-45 0-76.5-31.5T372-500t31.5-76.5T480-608t76.5 31.5T588-500t-31.5 76.5T480-392m0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800t266 81.5T920-500q-54 137-174 218.5T480-200m0-80q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720t-207.5 59.5T128-500q50 101 144.5 160.5T480-280"},null,-1),le=[re];function ie(n,r){return t(),i("svg",ae,[...le])}const ce={render:ie},de={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#5f6368",viewBox:"0 -960 960 960"},ue=a("path",{d:"M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580t75.5-184.5T380-840t184.5 75.5T640-580q0 44-14 83t-38 69l252 252zM380-400q75 0 127.5-52.5T560-580t-52.5-127.5T380-760t-127.5 52.5T200-580t52.5 127.5T380-400"},null,-1),ge=[ue];function he(n,r){return t(),i("svg",de,[...ge])}const me={render:he},pe={class:"page"},_e={class:"grid grid-cols-12 gap-4 mb-4"},ve={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5"},fe={key:1,class:"image-container"},be=["src"],ye={class:"overlay"},we={class:"overlay-content"},ke={key:1},Te={key:1},xe={class:"flex items-center"},Ie={key:0,class:"text-secondary-color mt-3",style:{color:"rgb(115, 102, 255)","font-weight":"900"}},Se={key:1,class:"text-secondary-color ml-3 mt-3 line-through",style:{color:"rgb(171, 173, 178)","font-weight":"900"}},Pe="ion:search-outline",Be=q({__name:"MallPreview",setup(n){const r=S(null);Q();const p=S([{label:"家用淨水器組(雙濾心)",value:"song0"},{label:"家用淨水器組(四濾心)",value:"song1"},{label:"活性碳濾心(單支)",value:"song2"},{label:"PP濾心(單支)",value:"song3"},{label:"茶葉禮盒",value:"song4"}]),u=async s=>{const l=s.map(e=>new Promise(h=>{const c=new Image;c.onload=()=>h(),c.src=e}));return Promise.all(l)},o=S([]);return(async()=>{try{const s=await Z();if(console.log(s.data),s.success){o.value=s.data.map(e=>({...e,dateStart:e.DateStart.substring(0,10),dateEnd:e.DateEnd.substring(0,10),isLoading:!0}));const l=s.data.map(e=>e.ImageUrl);await u(l),o.value.forEach((e,h)=>{const c=new Image;c.onload=()=>{o.value[h].IsLoading=!1},c.onerror=()=>{o.value[h].IsLoading=!1},c.src=e.ImageUrl})}}catch(s){console.error(s)}})(),(s,l)=>(t(),i("div",pe,[a("div",_e,[_(d(ee),{value:r.value,"onUpdate:value":l[0]||(l[0]=e=>r.value=e),options:p.value,size:"large",class:"col-span-3",placeholder:"選擇商品類別"},{suffix:f(()=>[_(G,{name:Pe,size:16})]),_:1},8,["value","options"]),_(d(te),{placeholder:"搜索商品",size:"large",class:"col-span-9"})]),a("div",ve,[(t(!0),i(E,null,W(o.value,e=>(t(),b(d(X),{hoverable:!0,key:e.Id},{cover:f(()=>[e.IsLoading?(t(),b(d(P),{key:0,text:"",width:"60%"})):(t(),i("div",fe,[a("img",{src:e.ImageUrl,alt:"商品圖片"},null,8,be),a("div",ye,[a("div",we,[a("button",null,[_(d(me))]),a("button",null,[_(d(ce))])])])]))]),header:f(()=>[e.IsLoading?(t(),b(d(P),{key:0,text:"",repeat:3})):m("",!0),e.IsLoading?m("",!0):(t(),i("span",ke,y(e.Title),1))]),default:f(()=>[e.IsLoading?(t(),b(d(P),{key:0,text:"",repeat:3})):m("",!0),e.IsLoading?m("",!0):(t(),i("p",Te,y(e.Category),1)),a("div",xe,[e.IsLoading?m("",!0):(t(),i("div",Ie," $"+y(e.DiscountPrice),1)),e.IsLoading?m("",!0):(t(),i("div",Se," $"+y(e.Price),1))])]),_:2},1024))),128))])]))}}),Me=Y(Be,[["__scopeId","data-v-b9f1a6e0"]]);export{Me as default};
